---
title: virtualbox下网络配置
date: 2016-09-05 08:52:06
tags: 搭建环境
---
## virtualbox下网络配置
### HostOnly+Net，实现虚拟机访问互联网， 虚拟机和主机互访
其实网络这类相关的文章很多，我只是想结合自己的实际情况，把我的经验写下来，给那些需要的人们吧。
- 主机：windows7
- 虚拟机：centos7
- Virtualbox：5.0.24
<!-- more -->
虚拟机在安装好之后，默认情况下是通过NAT的网络连接方式，这样的情况下，虚拟机可以正常上网，可以访问主机，但是主机无法访问虚拟机。我们想得到的效果是物理机和虚拟机互访，同时虚拟机可以访问互联网。
 
我们需要做的就是启用第二个网络接口，并将改接口改为HostOnly方式。这个接口的用途用来跟主机进行通信的。在VBox安装好之后，物理主机系统会自动生成一个网卡(VirtualBox Host-Only Network)，默认情况下该网卡IP为192.168.56.1，记住一定要将该网卡设为启用。
 
将虚拟机启动后，会有两个网卡，一个是原先的网卡，ip地址一般情况下会是10.0.2.x，此网卡是通过NAT方式与主机连接的，主要用来访问网络，另外会有一个新的网卡出现，将该网卡的ip设为192.168.56.x， 网关设为192.168.56.1,该网卡的用途就是用来跟物理机器进行通信。
 
经过一番设置之后，虚拟机应该就可以通过IP被物理机器访问了，并可以同时访问网络。注意在这种配置方式下，如果物理主机是在一个局域网内，那么局域网其他的主机是无法通过ip访问到的。
 
如果需要局域网内其他主机访问该虚拟机，则需要将该虚拟机的网络连接方式由host only 改为Bridged Adapter，并选择物理主机上的实际物理的网络接口作为接入接口。如果该网络是通过DHCP获得Ip的话，那么虚拟机就可以获得一个和物理机器同等地位的IP地址，就好像一台新的物理机器接入该局域网内一样。如果没有DHCP，那么手工设置一个同物理主机同等的IP地址，也可以得到同样的效果。

来源： http://blog.csdn.net/xinghun_4/article/details/7969894